@{
    ViewData["Title"] = "Inicio - Alcaldía Municipal";
}

<style>
    /* --------------------------------------------------
           ESTILOS FORMALES AÑADIDOS
           -------------------------------------------------- */
    :root {
        --color-primario: #34495e; /* Azul Marino/Antracita - Formal */
        --color-secundario: #f39c12; /* Dorado/Naranja - Acento */
        --color-fondo: #ecf0f1;
        --color-texto: #2c3e50;
    }

    /* Estilo del Hero Section */
    .hero-formal {
        background: linear-gradient(rgba(44, 62, 80, 0.85), rgba(44, 62, 80, 0.85)), /* Overlay oscuro */
        url('tu-imagen-ciudad.jpg') no-repeat center center/cover;
        color: white;
        padding: 6rem 0;
        text-align: center;
        margin-bottom: 3rem;
    }

        .hero-formal h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            border-bottom: 4px solid var(--color-secundario);
            display: inline-block;
            padding-bottom: 0.5rem;
        }

        .hero-formal p {
            font-size: 1.25rem;
            max-width: 800px;
            margin: 0 auto 2rem;
            opacity: 0.9;
        }

    /* Estilo de la barra de acceso rápido */
    .quick-access-bar {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1.5rem;
        max-width: 1200px;
        margin: -4rem auto 3rem; /* Lo subimos para que se superponga al hero */
        padding: 0 1rem;
    }

        .quick-access-bar a {
            background: white;
            padding: 2rem 1rem;
            border-radius: 8px;
            text-align: center;
            text-decoration: none;
            color: var(--color-texto);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border-top: 5px solid var(--color-primario);
        }

            .quick-access-bar a:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
                border-top-color: var(--color-secundario);
            }

        .quick-access-bar i {
            font-size: 2rem;
            color: var(--color-secundario);
            margin-bottom: 0.75rem;
            display: block;
        }

    /* Estilo de la sección de noticias */
    .news-grid {
        display: grid;
        grid-template-columns: 2fr 1fr; /* Noticias a la izquierda, Anuncios a la derecha */
        gap: 3rem;
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1rem;
    }

    .urgent-announcement {
        background: var(--color-primario);
        color: white;
        padding: 2rem;
        border-radius: 8px;
    }

        .urgent-announcement h3 {
            color: var(--color-secundario);
        }

    /* Si usas FontAwesome, asegúrate de incluir la librería en tu Layout */
    /* <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> */

</style>

<div class="main-content">

    <section class="hero-formal">
        <h1>Alcaldía Municipal de ES</h1>
        <p>Gobernando con Transparencia, Innovación y Servicio al Ciudadano.</p>
        <a href="/Tramites" class="btn btn-warning btn-lg">
            <i class="fas fa-file-contract"></i> Portal de Trámites en Línea (En proceso)
        </a>
    </section>

    <section class="quick-access-bar">
        <a asp-controller="Home" asp-action="History">
            <i class="fas fa-landmark"></i> Historia
        </a>

        <a asp-controller="Home" asp-action="Create">
            <i class="fas fa-calendar-check"></i> Crear Reporte
        </a>

        <a asp-controller="Queja" asp-action="Menu">
            <i class="fas fa-bullhorn"></i> Lista de Reportes
        </a>

        <a asp-controller="Aviso" asp-action="Menu">
            <i class="fas fa-gavel"></i> Lista de Avisos
        </a>
        <a asp-controller="Home" asp-action="Contacto">
            <i class="fas fa-landmark"></i> Contactanos
        </a>
    </section>

    <section class="news-grid">
        <div class="news-list">
            <h2>Últimas Noticias Oficiales</h2>
            <hr />
            <div class="news-item mb-3">
                <small class="text-muted">25 de Septiembre de 2025</small>
                <h4><a href="https://github.com/FernandoMorales252/AlcaldiaConsumo">Nuestro Repositorio Git Frontend</a></h4>
                <p>Nuestro equipo se involucro en la parte del frontend para el consumo de la api,mas detalles aca.</p>
            </div>
            <div class="news-item mb-3">
                <small class="text-muted">20 de Septiembre de 2025</small>
                <h4><a href="https://github.com/FernandoMorales252/Alcaldia-sys">Nuestro Repositorio Git Backend</a></h4>
                <p>Nuestro equipo se involucro en la parte del Backend para la construccion de una api,mas detalles aca</p>
            </div>
            <div class="news-item mb-3">
                <small class="text-muted">15 de Septiembre de 2025</small>
                <h4><a href="https://portal.esco.gob.sv/es-ES/0/PUB/Home/Becas_Show?nav=YMJm1Wp6&niv=1">Programa de Becas Internacionales 2025</a></h4>
                <p>Conoce oportunidades de estudio en el extranjero ! puedes ser parte de esto ¡</p>
            </div>
        </div>

        <div class="urgent-announcement">
            @{
                // Intentamos obtener el aviso reciente del ViewData
                var aviso = ViewData["AvisoReciente"] as AlcaldiaFront.DTOs.AvisoDTOs.AvisoRespuestaDTO;
            }

            @if (aviso != null)
            {
                // 📢 MUESTRA EL AVISO DINÁMICO
                <h3>📢 @Html.DisplayFor(model => aviso.Titulo)</h3>
                <hr style="border-color: rgba(255,255,255,0.3);" />

                <h4>@Html.DisplayFor(model => aviso.Tipo)</h4>
                <p>
                    <strong>Fecha:</strong> @aviso.Fecha_Registro.ToString("dd MMM yyyy")
                </p>
                <p>
                    @(aviso.Descripcion.Length > 150 ? aviso.Descripcion.Substring(0, 150) + "..." : aviso.Descripcion)
                </p>
                <p class="text-right mt-3">
                    <a asp-controller="Aviso" asp-action="Public" asp-route-id="@aviso.Id_aviso" class="text-warning">
                        Más detalles aquí →
                    </a>
                </p>
            }
            else
            {
                // 🛑 MUESTRA EL MENSAJE POR DEFECTO O ESTÁTICO SI NO HAY AVISOS
                <h3>📢 Sin Avisos Urgentes</h3>
                <hr style="border-color: rgba(255,255,255,0.3);" />
                <p>La Alcaldía no ha emitido avisos urgentes o de interés público recientemente. Consulte el archivo de noticias para más información.</p>
                <p class="text-right mt-3">
                    <a href="/ArchivoAvisos" class="text-warning">Ver Archivo de Avisos</a>
                </p>
            }
        </div>
    </section>

    <section class="bg-light py-5 mt-5">
        <div class="container text-center">
            <h2>Transparencia en Cifras</h2>
            <div class="row mt-4">

                <div class="col-md-4">
                    <h3 class="display-4 text-primary">
                        <i class="fas fa-dollar-sign"></i> @(ViewData["PresupuestoTotalFormato"] ?? "$0,00")
                    </h3>
                    <p class="lead">Presupuesto Total de Proyectos</p>
                </div>

                <div class="col-md-4">
                    <h3 class="display-4 text-success">
                        @(ViewData["ProyectosCulminados"] ?? 0)
                    </h3>
                    <p class="lead">Proyectos de Infraestructura Culminados</p>
                </div>

                <div class="col-md-4">
                    <h3 class="display-4 text-warning">
                        <i class="fas fa-hand-holding-usd"></i> @(ViewData["PresupuestoEjecucionFormato"] ?? "$0,00")
                    </h3>
                    <p class="lead">Presupuesto en Ejecución</p>
                </div>

            </div>

            <a asp-controller="Proyecto" asp-action="Menu" class="btn btn-primary mt-4">Visitar Portal de Proyectos</a>
        </div>
    </section>


</div>